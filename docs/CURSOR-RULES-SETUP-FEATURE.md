# ğŸ“ Cursor AI Rules ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ©Ÿèƒ½

## ğŸ¯ æ¦‚è¦

v0.1.3ã§è¿½åŠ ã•ã‚ŒãŸæ©Ÿèƒ½ã€‚ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ `.cursorrules` ã«QueryCanvasã®ä½¿ã„æ–¹ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ ã§ãã¾ã™ã€‚

## âœ¨ æ©Ÿèƒ½

### 1. ãƒœã‚¿ãƒ³ã‹ã‚‰ã®å®Ÿè¡Œ

Database Clientãƒ‘ãƒãƒ«ã®ä¸Šéƒ¨ã«ã€ŒğŸ“ Cursor AIè¨­å®šã€ãƒœã‚¿ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ’¾ ä¿å­˜æ¸ˆã¿ã‚¯ã‚¨ãƒª] [ğŸ“ Cursor AIè¨­å®š] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ï¼š
1. `.cursorrules` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
2. QueryCanvasã®ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ 
3. æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
4. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãã‹é¸æŠå¯èƒ½

### 2. ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰ã®å®Ÿè¡Œ

```
Cmd+Shift+P (Mac) / Ctrl+Shift+P (Windows)
â†’ "QueryCanvas: Setup Cursor AI Rules"
```

## ğŸ“ è¿½åŠ ã•ã‚Œã‚‹å†…å®¹

`.cursorrules` ã«ä»¥ä¸‹ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¾ã™ï¼š

```markdown
========================================
# QueryCanvas - Database Client Rules
# Auto-generated by QueryCanvas v0.1.3
========================================

## QueryCanvas Integration

### Session File
- Location: .vscode/querycanvas-session.json
- Contains current SQL query
- Editable by Cursor AI

### SQL Display Options
- @column directives syntax
- Common options (align, format, comma, etc.)
- Conditional styling (if<0:color=red, etc.)

### PowerPoint/Excel/Word Copy
- TSV Copy (simple)
- HTML Copy (with styling)
- When to use each format

### Database Schema
- Location: querycanvas-schema/tables/
- Auto-generated Markdown files

### Best Practices
- Use display options
- Leverage conditional styling
- Prefer HTML Copy for presentations

### Common Tasks
- Example prompts for Cursor AI
- Workflow examples
```

## ğŸ”„ ã‚¹ãƒãƒ¼ãƒˆæ›´æ–°

### æ—¢å­˜ã® .cursorrules ãŒã‚ã‚‹å ´åˆ

1. **QueryCanvasã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã—ãªã„å ´åˆ**
   - ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€å¾Œã«è¿½åŠ 

2. **QueryCanvasã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆ**
   - ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
   - ã€Œã¯ã„ã€ã‚’é¸æŠã™ã‚‹ã¨æ›´æ–°
   - å¤ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¦æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 

3. **æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**
   - `.cursorrules` ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯æ–°è¦ä½œæˆ

## ğŸ’¡ ä½¿ã„æ–¹

### Step 1: ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```
Database Client ã‚’é–‹ã
â†“
ã€ŒğŸ“ Cursor AIè¨­å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
â†“
âœ… .cursorrules ã«è¿½åŠ å®Œäº†
```

### Step 2: Cursor AI ã‚’ä½¿ã†

æ–°ã—ã„ãƒãƒ£ãƒƒãƒˆã§è©¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼š

```
@Codebase PowerPointã«è²¼ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹ã‚¯ã‚¨ãƒªã‚’ä½œã£ã¦
```

Cursor AIãŒè‡ªå‹•çš„ã«ï¼š
- SQLã‚¯ã‚¨ãƒªã‚’ç”Ÿæˆ
- è¡¨ç¤ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
- `.vscode/querycanvas-session.json` ã«ä¿å­˜

### Step 3: ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œ

Database Clientã§ï¼š
1. SQLãŒè‡ªå‹•çš„ã«åæ˜ ã•ã‚Œã‚‹
2. ã€Œâ–¶ å®Ÿè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã€ŒğŸ“‹ HTMLã‚³ãƒ”ãƒ¼ã€ã§ PowerPoint ã«ã‚³ãƒ”ãƒ¼

## ğŸ¨ å®Ÿè£…è©³ç´°

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/
â”œâ”€â”€ cursorRulesManager.ts    â† æ–°è¦ä½œæˆ
â”œâ”€â”€ extension.ts             â† ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²
â””â”€â”€ databaseClientPanel.ts   â† UIãƒœã‚¿ãƒ³è¿½åŠ 
```

### ä¸»è¦ã‚¯ãƒ©ã‚¹ï¼šCursorRulesManager

```typescript
export class CursorRulesManager {
    // .cursorrules ã«ãƒ«ãƒ¼ãƒ«ã‚’è¿½åŠ 
    static async addQueryCanvasRules(): Promise<void>
    
    // QueryCanvasã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª
    private static hasQueryCanvasSection(content: string): boolean
    
    // QueryCanvasã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤
    private static removeQueryCanvasSection(content: string): string
    
    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ
    private static getTemplate(): string
    
    // æ‹¡å¼µæ©Ÿèƒ½ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å–å¾—
    private static getExtensionVersion(): string
}
```

### ã‚³ãƒãƒ³ãƒ‰

**ID:** `querycanvas.setupCursorRules`

**ã‚¿ã‚¤ãƒˆãƒ«:** "QueryCanvas: Setup Cursor AI Rules"

**å®Ÿè£…:**
```typescript
vscode.commands.registerCommand('querycanvas.setupCursorRules', async () => {
    await CursorRulesManager.addQueryCanvasRules();
});
```

### UIãƒœã‚¿ãƒ³

```html
<button onclick="setupCursorRules()">ğŸ“ Cursor AIè¨­å®š</button>
```

```javascript
function setupCursorRules() {
    vscode.postMessage({ type: 'setupCursorRules' });
}
```

### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

```typescript
case 'setupCursorRules':
    this._handleSetupCursorRules();
    break;
```

```typescript
private async _handleSetupCursorRules() {
    const { CursorRulesManager } = await import('./cursorRulesManager');
    await CursorRulesManager.addQueryCanvasRules();
}
```

## ğŸ“Š ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒªãƒƒãƒˆ

### Beforeï¼ˆæ‰‹å‹•è¨­å®šï¼‰

```
1. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€
2. .cursorrules ã‚’ä½œæˆ/ç·¨é›†
3. QueryCanvasã®æ§‹æ–‡ã‚’ã‚³ãƒ”ãƒš
4. è‡ªåˆ†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆã‚ã›ã¦èª¿æ•´
5. å‹•ä½œç¢ºèª
```
â†’ **æ™‚é–“ãŒã‹ã‹ã‚‹ã€å¿˜ã‚ŒãŒã¡ã€é–“é•ãˆã‚„ã™ã„**

### Afterï¼ˆè‡ªå‹•è¨­å®šï¼‰

```
1. ã€ŒğŸ“ Cursor AIè¨­å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. å®Œäº†ï¼
```
â†’ **ç°¡å˜ã€ç¢ºå®Ÿã€ã™ãä½¿ãˆã‚‹**

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`src/cursorRulesManager.ts` ã® `getTemplate()` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç·¨é›†ã™ã‚Œã°ã€
è¿½åŠ ã•ã‚Œã‚‹å†…å®¹ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

ä¾‹ï¼š
```typescript
private static getTemplate(): string {
    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æƒ…å ±ã‚’è¿½åŠ 
    const projectSpecific = this.getProjectInfo();
    
    return `
    ${this.SECTION_START}
    ${this.SECTION_TITLE}
    ${this.SECTION_END}
    
    ${projectSpecific}
    
    ... æ¨™æº–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ ...
    `;
}
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### 1. æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ†ã‚¹ãƒˆ

```bash
cd /path/to/test-project
code .
```

1. Database Client ã‚’é–‹ã
2. ã€ŒğŸ“ Cursor AIè¨­å®šã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. `.cursorrules` ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
4. å†…å®¹ã‚’ç¢ºèª

### 2. æ—¢å­˜ã® .cursorrules ãŒã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ†ã‚¹ãƒˆ

```bash
cd /path/to/existing-project
# .cursorrules ãŒæ—¢ã«å­˜åœ¨
```

1. Database Client ã‚’é–‹ã
2. ã€ŒğŸ“ Cursor AIè¨­å®šã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. æ—¢å­˜ã®ãƒ«ãƒ¼ãƒ«ã®æœ€å¾Œã«è¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### 3. æ›´æ–°ãƒ†ã‚¹ãƒˆ

```bash
# æ—¢ã«QueryCanvasã®ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹çŠ¶æ…‹
```

1. Database Client ã‚’é–‹ã
2. ã€ŒğŸ“ Cursor AIè¨­å®šã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã€Œæ›´æ–°ã—ã¾ã™ã‹ï¼Ÿã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
4. ã€Œã¯ã„ã€ã‚’é¸æŠ
5. å¤ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå‰Šé™¤ã•ã‚Œã€æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### 4. Cursor AI å‹•ä½œç¢ºèª

```
@Codebase PowerPointã«è²¼ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹ã‚¯ã‚¨ãƒªã‚’ä½œã£ã¦
```

â†’ Cursor AIãŒé©åˆ‡ã«å¿œç­”ã™ã‚‹ã“ã¨ã‚’ç¢ºèª

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘:** `HOW-TO-TEACH-CURSOR-QUICK.md`
- **é–‹ç™ºè€…å‘ã‘:** `docs/HOW-TO-TEACH-CURSOR.md`
- **å®Ÿè£…è¨˜éŒ²:** `docs/conversations/2025-12-28_CursorRulesã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ©Ÿèƒ½.md`

## ğŸš€ ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

### Phase 1ï¼ˆç¾çŠ¶ï¼‰âœ…
- åŸºæœ¬çš„ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¿½åŠ 
- æ›´æ–°æ¤œå‡ºã¨ä¸Šæ›¸ãç¢ºèª

### Phase 2ï¼ˆæ¤œè¨ä¸­ï¼‰
- [ ] ã‚¹ã‚­ãƒ¼ãƒæƒ…å ±ã®è‡ªå‹•è¿½åŠ 
- [ ] æ¥ç¶šãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±ã®è¿½åŠ 
- [ ] ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆåŸºæœ¬/è©³ç´°/å®Œå…¨ï¼‰

### Phase 3ï¼ˆå°†æ¥ï¼‰
- [ ] ãƒãƒ¼ãƒ å…±æœ‰ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ¨å¥¨äº‹é …
- [ ] è‡ªå‹•æ›´æ–°é€šçŸ¥

## âœ¨ ã¾ã¨ã‚

**Cursor AI ã¨ã®çµ±åˆãŒã•ã‚‰ã«ç°¡å˜ã«ãªã‚Šã¾ã—ãŸï¼**

- ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ `.cursorrules` ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- Cursor AIãŒQueryCanvasã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã«
- PowerPointè³‡æ–™ä½œæˆãŒã‚¹ãƒ ãƒ¼ã‚ºã«

---

**å®Ÿè£…æ—¥:** 2025-12-28  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** 0.1.3  
**å®Ÿè£…è€…:** AI Assistant (Claude Sonnet 4.5)

